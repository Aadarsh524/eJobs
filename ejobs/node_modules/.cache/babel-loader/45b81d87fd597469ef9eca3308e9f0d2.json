{"ast":null,"code":"var _jsxFileName = \"D:\\\\Code\\\\ejobs\\\\ejobs\\\\src\\\\Components\\\\LoggedUser\\\\InboxSmall.js\";\nimport React, { Component } from 'react';\nimport \"../../Css/InboxSmall.css\";\nimport NavName from './NavName';\nimport Chat from './Chat';\nimport InboxSideBar from './InboxSideBar';\nimport { getUserRooms } from '../../actions/messageAction.js';\nimport { SiGooglemessages } from \"react-icons/si\";\nimport { Link, Route, Switch } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Inbox extends Component {\n  constructor() {\n    super();\n    this.state = {\n      message: ''\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onSeeMessageClick(id) {\n    this.props.getAllMessages(id);\n    this.props.getRoomName(id);\n  }\n\n  componentDidMount() {\n    this.props.getUserRooms();\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const newMessage = {\n      message: this.state.email\n    };\n    this.props.sendMessage(newMessage);\n  }\n\n  render() {\n    const {\n      messages,\n      messageRooms\n    } = this.props.message;\n    const {\n      allUsers,\n      user\n    } = this.props.auth;\n    let allRooms;\n    let chatArea;\n\n    if (messageRooms === null) {\n      allRooms = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"noRoom\",\n        children: \"LOADING...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 18\n      }, this);\n    } else {\n      allRooms = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inboxSideBar\",\n        children: messageRooms.map(roomList => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/chatArea\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: this.onSeeMessageClick.bind(this, roomList.otherPerson),\n              className: \"messagedUser\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8ZmFjZXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&w=1000&q=80\",\n                alt: \"avatar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: allUsers.map((users, i) => users._id === roomList.otherPerson ? /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"roomUser\",\n                  children: users.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 70\n                }, this) : null)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (messages === null) {\n      chatArea = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatMessage\",\n        children: [/*#__PURE__*/_jsxDEV(SiGooglemessages, {\n          style: {\n            color: 'black',\n            fontSize: 40,\n            marginRight: 25\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Click on any chat rooms to see message.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 18\n      }, this);\n    } else {\n      chatArea = /*#__PURE__*/_jsxDEV(Chat, {\n        messages: messages,\n        user: user,\n        allUsers: allUsers\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 18\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inbox\",\n      children: [/*#__PURE__*/_jsxDEV(NavName, {\n        pageName: \"Inbox\",\n        pageDescription: \"Make a conversation with freelancer or client.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inbox_body\",\n        children: /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/inbox\",\n            children: allRooms\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/chatBox\",\n            children: chatArea\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 14\n    }, this);\n  }\n\n}\n\nInbox.propTypes = {\n  messageRooms: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  message: state.message,\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  getUserRooms\n})(Inbox);","map":{"version":3,"sources":["D:/Code/ejobs/ejobs/src/Components/LoggedUser/InboxSmall.js"],"names":["React","Component","NavName","Chat","InboxSideBar","getUserRooms","SiGooglemessages","Link","Route","Switch","PropTypes","connect","Inbox","constructor","state","message","onChange","bind","onSubmit","onSeeMessageClick","id","props","getAllMessages","getRoomName","componentDidMount","e","setState","target","name","value","preventDefault","newMessage","email","sendMessage","render","messages","messageRooms","allUsers","user","auth","allRooms","chatArea","map","roomList","otherPerson","users","i","_id","color","fontSize","marginRight","propTypes","func","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport \"../../Css/InboxSmall.css\";\r\nimport NavName from './NavName'\r\nimport Chat from './Chat'\r\nimport InboxSideBar from './InboxSideBar'\r\nimport { getUserRooms } from '../../actions/messageAction.js';\r\nimport {  SiGooglemessages } from \"react-icons/si\";\r\nimport { Link , Route, Switch} from \"react-router-dom\";\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nclass Inbox extends Component {\r\n     constructor(){\r\n         super();\r\n             this.state = {\r\n                 message: '',\r\n             };\r\n         this.onChange = this.onChange.bind(this);\r\n         this.onSubmit = this.onSubmit.bind(this);\r\n\r\n     }\r\n        onSeeMessageClick(id) {\r\n          this.props.getAllMessages(id);\r\n          this.props.getRoomName(id);\r\n         }\r\n     componentDidMount(){\r\n       \r\n         this.props.getUserRooms();\r\n\r\n    }\r\n      onChange(e){\r\n         this.setState({[e.target.name]: e.target.value});\r\n     }\r\n      onSubmit(e){\r\n         e.preventDefault();   \r\n         const newMessage = {\r\n           message: this.state.email,\r\n         };\r\n         this.props.sendMessage(newMessage);\r\n     }\r\n    render() {\r\n        const { messages,messageRooms  } = this.props.message;\r\n        const { allUsers, user } = this.props.auth;\r\n    let allRooms;\r\n    let chatArea;\r\n    if (messageRooms === null) {\r\n      allRooms = <div className=\"noRoom\">LOADING...</div>;\r\n    } \r\n    else {\r\n      allRooms =   <div className=\"inboxSideBar\"> \r\n              \r\n             {messageRooms.map(roomList =>\r\n                    <div>\r\n                    <Link to=\"/chatArea\">\r\n                        <div onClick={this.onSeeMessageClick.bind(this, roomList.otherPerson)}   className=\"messagedUser\"  >\r\n                              <img src=\"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8ZmFjZXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&w=1000&q=80\" alt=\"avatar\" />\r\n                              <p>{allUsers.map((users, i) =>\r\n                              users._id === roomList.otherPerson ? ( <h5 className=\"roomUser\">{users.email}</h5>): null  \r\n                          )}</p>\r\n\r\n                    </div>\r\n                    </Link>\r\n                        </div>\r\n              )}\r\n            </div>;\r\n    }\r\n   \r\n if (messages === null) {\r\n      chatArea = <div className=\"chatMessage\">\r\n      <SiGooglemessages style={{color: 'black',fontSize:40, marginRight:25}}/>\r\n        <h5>Click on any chat rooms to see message.</h5>\r\n      </div>;\r\n    } \r\n    else {\r\n      chatArea = <Chat messages={messages} user={user} allUsers={allUsers} /> ;\r\n    }\r\n   \r\n     \r\n        return (\r\n             <div className=\"inbox\">\r\n                 <NavName pageName=\"Inbox\" pageDescription=\"Make a conversation with freelancer or client.\"  />\r\n                <div className=\"inbox_body\">\r\n              <Switch>\r\n                            <Route path=\"/inbox\">\r\n                               {allRooms}\r\n                            </Route>\r\n                            <Route path=\"/chatBox\">\r\n                               {chatArea}\r\n                            </Route>\r\n                 </Switch>\r\n\r\n              </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nInbox.propTypes = {\r\n      messageRooms: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n     message: state.message,\r\n     auth: state.auth,\r\n\r\n});\r\n\r\nexport default connect(mapStateToProps, { getUserRooms  })(Inbox);\r\n"]},"metadata":{},"sourceType":"module"}